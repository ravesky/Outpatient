# 账号登录注册
无论是哪个用户都需要注册自己的账号

![ZH-01](#)



##### 登录接口(login)

|  参数   |  参数名  |  类型  | 是否必填 | 最大长度 |            描述            |
| :-----: | :------: | :----: | :------: | :------: | :------------------------: |
|  token  | 登录令牌 | String |    是    |    64    | 网页进入登录界面时自动生成 |
| account | 个人账号 | String |    是    |    16    |     用户账号，不能为空     |
|  pass   | 账号密码 | String |    是    |    16    |     用户密码，不能为空     |
|  code   | 验证数据 | String |    是    |    64    |       防止机器人登录       |

用户登录成功后，将用户id存储在session中



##### 注册接口(sign_up)

|  参数   | 参数名 |  类型  | 是否必填 | 最大长度 |        描述        |
| :-----: | :----: | :----: | :------: | :------: | :----------------: |
| account |  账号  | String |    是    |    16    | 用户账号，不能为空 |
|  pass   |  密码  | String |    是    |    16    | 用户密码，不能为空 |

在传递参数前应有先确认两次密码是否一致的判定，密码强度是否符合要求的验证

服务端判定账号是否存在，账号、密码长度是否符合要求，账号密码中是否存在特殊字符

将账号密码保存到数据库，或者返回错误码



##### 邮箱验证(SignUp_email)

| 参数  |  参数名  |  类型  | 是否必填 | 最大长度 |         描述         |
| :---: | :------: | :----: | :------: | :------: | :------------------: |
| email | 邮箱账号 | String |    是    |    32    |  用户邮箱，不能为空  |
| code  |  验证码  | String |    是    |    8     | 邮箱验证码，不能为空 |

传递前判断邮箱格式是否正确

服务端判断该邮箱是否已绑定账号，验证码是否正确

发给邮箱的验证码应有有效时间

服务端返回相关的错误码



##### 密保问题(SignUp_question)

|      参数      | 参数名 |  类型  | 是否必填 | 最大长度 |
| :------------: | :----: | :----: | :------: | :------: |
|  question_one  | 问题一 | String |    是    |    64    |
|   answer_one   | 回答一 | String |    是    |    64    |
|  question_two  | 问题二 | String |    是    |    64    |
|   answer_two   | 回答二 | String |    是    |    64    |
| question_three | 问题三 | String |    是    |    64    |
|  answer_three  | 回答三 | String |    是    |    64    |
密保问题，注册时可不填，可以通过	**>>个人信息模块>>账号安全**中填写

所有问题与答案均不能为空

忘记密码时可以通过密保问题找回



##### 邮箱或账号找回密码(Forget_pass_EmailAccount)

|     参数     |    参数名    |  类型  | 是否必填 | 最大长度 |
| :----------: | :----------: | :----: | :------: | :------: |
| EmailAccount | 邮箱或者账号 | String |    是    |    32    |
|     code     |    验证码    | String |    是    |    8     |

验证码发送给账户绑定的邮箱



##### 密保问题找回密码(Forget_pass_answer)

|     参数     | 参数名 |  类型  | 是否必填 | 最大长度 |
| :----------: | :----: | :----: | :------: | :------: |
|  answer_one  | 回答一 | String |    是    |    64    |
|  answer_two  | 回答二 | String |    是    |    64    |
| answer_three | 回答三 | String |    是    |    64    |



##### 账户密保问题查询（Forget_pass_Question）

请求：

|     参数     |    参数名    |  类型  | 是否必填 | 最大长度 |
| :----------: | :----------: | :----: | :------: | :------: |
| EmailAccount | 邮箱或者账号 | String |    是    |    32    |

返回数据示例(json)：

```json
{
    "statu_code":200,
	"data": {
        "question_one":"父亲的名字",
        "question_two":"母亲名字",
        "question_three":"大学学校",
    }
}
```



##### 错误码

| 错误码       | 错误描述                                  | 原因                           |
| ------------ | ----------------------------------------- | ------------------------------ |
| SYSTEMERROR  | 接口返回错误                              | 系统请求超时                   |
| APLOGINERROR | 登录返回错误，A：账号，P：密码，LOGIN登录 | 输入的账号(邮箱)或者密码错误   |
| PSIGNERROR   | 注册密码返回错误，P：密码，SIGN：注册     | 密码强度不够                   |
| DTERROR      | 输入数据不符规范，D：数据，T:类型         | 存在特殊字符，或长度不符合要求 |
| CODEERROR    | 验证码错误                                | 验证码错误                     |
| FAILURE      | 失败                                      | ......                         |

